
<html>
  <head>
	<title>Simple Epi Sim</title>
    
	
	<script src="js/d3.min.js"></script>
    <script src="js/jquery-1.11.1.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/jquery-ui.js"></script>
	
    <script type="text/javascript" src="js/velocity.min.js"></script>
    <script type="text/javascript" src="js/raphael-min.js"></script>

	<script src="sim/SimpleEpiUtil.js"></script>	
    <script src="sim/Infection.js"></script>
    <script src="sim/InfectionState.js"></script>
    <script src="sim/Person.js"></script>
    <script src="sim/Population.js"></script>	
    <script src="ui/HeatMapGrid.js"></script>		
    <script src="sim/SimpleEpi.js"></script>
	
    <style>
		body {
			color:#333;
			font-size:10pt;
		}
		
		h4 {
			color:#666;
		}
      table, th, td {
	  			font-size:10pt;

        border: 1px solid #EEE;
		border-collapse: collapse;
      }   
      td {
        padding:0.3em;
      }
      hr {
        border-top: 1px solid #666;
      }
	  
	  .bold {
		font-weight:700;
	  }
    </style>
  </head>
  
 	
  <body style="font-family:Verdana;">
	<div style="width:90%;margin:auto;margin-top:2.5%">
		<h1>Simple Epi Simulation</h1>
		<div>
			<p>Loosely based on the <a href="http://en.wikipedia.org/wiki/Compartmental_models_in_epidemiology#The_SEIR_model">SEIR model</a>, this very simple agent-based simulation looks at the spread of the common cold.<br/>
			At time = 0, a certain % of people start with the cold. In each timestep, all contagious people cough and infect anyone directly adjacent to them with a certain probability. </p>
			
			<div style="margin-left:2em;">
				<table style="">
				  <tr>
					<td>&nbsp;&nbsp;&nbsp;</td>
					<td><b>Susceptible</b></td>
					<td>Not infected</td>
				  </tr>
				  <tr>
					<td style="background:#FF0">&nbsp;&nbsp;&nbsp;</td>
					<td><b>Exposed</b></td>
					<td>Infected but not contagious</td>
				  </tr>
				  <tr>
					<td style="background:#F00">&nbsp;&nbsp;&nbsp;</td>
					<td><b>Infectious</b></td>
					<td>Infected and contagious</td>
				  </tr>
				  <tr>
					<td style="background:green">&nbsp;&nbsp;&nbsp;</td>
					<td><b>Recovered</b></td>
					<td>Immune</td>
				  </tr>
				</table>
		</div>
			<p>You can change the simulation's behavior via parameters in this page's URL. Refer to the table below the grid for a description of the various parameters.</p>

			<p><i>This quick prototype  took around 6-7 hours.	The incubation, infection, and immunity days are currently constant and same for everyone but will eventually be random variables.</i></p>

		</div>
		<hr/>
		<div style="float:left;text-align:center;width:50%;display:block">
			<h2 style="margin-bottom:0">Spread of the Common Cold</h2>
			<h4 id="timeTitle"></h4>
			<div id="heatmap" style="margin-bottom:2em"></div>
			<hr/>
		    <div style="margin-left:2em;">							
				<h4><u>Simulation Parameters (set via URL)</u></h4>		
				<table>
					<tr>
						<td class="bold">n</td>
						<td>Number of People</td>
						<td>Currently must be a square number</td>					
					</tr>
					<tr>
						<td class="bold">prev</td>
						<td>prevalence</td>
						<td>% of people initially infected w/ the disease. Individuals are randomly chosen</td>					
					</tr>
					<tr>
						<td class="bold">maxTime</td>
						<td># Timesteps</td>
						<td></td>					
					</tr>
					<tr>
						<td class="bold">beta</td>
						<td>Force of Infection</td>
						<td>Probability that someone infects another person when coughing</td>					
					</tr>
					<tr>
						<td class="bold">incubTime</td>
						<td>Incubation Period</td>
						<td># of timesteps between being infected and becoming contagious</td>					
					</tr>
					<tr>
						<td class="bold">infectTime</td>
						<td>Infectious Period</td>
						<td># timesteps spent being contagious</td>					
					</tr>
					<tr>
						<td class="bold">immuneTime</td>
						<td>Immunity Period</td>
						<td># timesteps that a previously infected individual is immune to new infections</td>					
					</tr>					
				</table>
		
			
		  </div>			
		</div>
		
		<div id="commentary" style="padding-top:3em;float:right"></div>

	</div>
  </body>
</html>
